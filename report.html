<!DOCTYPE html>
<html>
  <head>
    <meta charset="utf-8"/>
    <title id="head-title">report.html</title>
      <link href="assets/style.css" rel="stylesheet" type="text/css"/>
  </head>
  <body>
    <h1 id="title">report.html</h1>
    <p>Report generated on 09-Dec-2024 at 11:01:47 by <a href="https://pypi.python.org/pypi/pytest-html">pytest-html</a>
        v4.1.1</p>
    <div id="environment-header">
      <h2>Environment</h2>
    </div>
    <table id="environment"></table>
    <!-- TEMPLATES -->
      <template id="template_environment_row">
      <tr>
        <td></td>
        <td></td>
      </tr>
    </template>
    <template id="template_results-table__body--empty">
      <tbody class="results-table-row">
        <tr id="not-found-message">
          <td colspan="4">No results found. Check the filters.</th>
        </tr>
    </template>
    <template id="template_results-table__tbody">
      <tbody class="results-table-row">
        <tr class="collapsible">
        </tr>
        <tr class="extras-row">
          <td class="extra" colspan="4">
            <div class="extraHTML"></div>
            <div class="media">
              <div class="media-container">
                  <div class="media-container__nav--left"><</div>
                  <div class="media-container__viewport">
                    <img src="" />
                    <video controls>
                      <source src="" type="video/mp4">
                    </video>
                  </div>
                  <div class="media-container__nav--right">></div>
                </div>
                <div class="media__name"></div>
                <div class="media__counter"></div>
            </div>
            <div class="logwrapper">
              <div class="logexpander"></div>
              <div class="log"></div>
            </div>
          </td>
        </tr>
      </tbody>
    </template>
    <!-- END TEMPLATES -->
    <div class="summary">
      <div class="summary__data">
        <h2>Summary</h2>
        <div class="additional-summary prefix">
        </div>
        <p class="run-count">15 tests took 00:01:44.</p>
        <p class="filter">(Un)check the boxes to filter the results.</p>
        <div class="summary__reload">
          <div class="summary__reload__button hidden" onclick="location.reload()">
            <div>There are still tests running. <br />Reload this page to get the latest results!</div>
          </div>
        </div>
        <div class="summary__spacer"></div>
        <div class="controls">
          <div class="filters">
            <input checked="true" class="filter" name="filter_checkbox" type="checkbox" data-test-result="failed" />
            <span class="failed">5 Failed,</span>
            <input checked="true" class="filter" name="filter_checkbox" type="checkbox" data-test-result="passed" />
            <span class="passed">10 Passed,</span>
            <input checked="true" class="filter" name="filter_checkbox" type="checkbox" data-test-result="skipped" disabled/>
            <span class="skipped">0 Skipped,</span>
            <input checked="true" class="filter" name="filter_checkbox" type="checkbox" data-test-result="xfailed" disabled/>
            <span class="xfailed">0 Expected failures,</span>
            <input checked="true" class="filter" name="filter_checkbox" type="checkbox" data-test-result="xpassed" disabled/>
            <span class="xpassed">0 Unexpected passes,</span>
            <input checked="true" class="filter" name="filter_checkbox" type="checkbox" data-test-result="error" disabled/>
            <span class="error">0 Errors,</span>
            <input checked="true" class="filter" name="filter_checkbox" type="checkbox" data-test-result="rerun" disabled/>
            <span class="rerun">0 Reruns</span>
          </div>
          <div class="collapse">
            <button id="show_all_details">Show all details</button>&nbsp;/&nbsp;<button id="hide_all_details">Hide all details</button>
          </div>
        </div>
      </div>
      <div class="additional-summary summary">
      </div>
      <div class="additional-summary postfix">
      </div>
    </div>
    <table id="results-table">
      <thead id="results-table-head">
        <tr>
          <th class="sortable" data-column-type="result">Result</th>
          <th class="sortable" data-column-type="testId">Test</th>
          <th class="sortable" data-column-type="duration">Duration</th>
          <th>Links</th>
        </tr>
      </thead>
    </table>
  </body>
  <footer>
    <div id="data-container" data-jsonblob="{&#34;environment&#34;: {&#34;Python&#34;: &#34;3.12.2&#34;, &#34;Platform&#34;: &#34;macOS-14.4.1-arm64-arm-64bit&#34;, &#34;Packages&#34;: {&#34;pytest&#34;: &#34;8.3.4&#34;, &#34;pluggy&#34;: &#34;1.5.0&#34;}, &#34;Plugins&#34;: {&#34;html&#34;: &#34;4.1.1&#34;, &#34;metadata&#34;: &#34;3.1.1&#34;}}, &#34;tests&#34;: {&#34;pytest/test_login_pytest.py::test_login[colamityjane@test.com-jane1234]&#34;: [{&#34;extras&#34;: [], &#34;result&#34;: &#34;Passed&#34;, &#34;testId&#34;: &#34;pytest/test_login_pytest.py::test_login[colamityjane@test.com-jane1234]&#34;, &#34;duration&#34;: &#34;00:00:03&#34;, &#34;resultsTableRow&#34;: [&#34;&lt;td class=\&#34;col-result\&#34;&gt;Passed&lt;/td&gt;&#34;, &#34;&lt;td class=\&#34;col-testId\&#34;&gt;pytest/test_login_pytest.py::test_login[colamityjane@test.com-jane1234]&lt;/td&gt;&#34;, &#34;&lt;td class=\&#34;col-duration\&#34;&gt;00:00:03&lt;/td&gt;&#34;, &#34;&lt;td class=\&#34;col-links\&#34;&gt;&lt;/td&gt;&#34;], &#34;log&#34;: &#34;----------------------------- Captured stdout call -----------------------------\nClicking on element with XPath: (&amp;#x27;xpath&amp;#x27;, &amp;#x27;//*[@id=&amp;quot;root&amp;quot;]/div/div[1]/div[2]/div[2]/div[1]&amp;#x27;)\nAttempting to click: //*[@id=&amp;quot;root&amp;quot;]/div/div[1]/div[2]/div[2]/div[1]\nAttempting to click: //*[@id=&amp;#x27;root&amp;#x27;]/div/div/div[1]/div[1]/div/form/button\nClicking on element with XPath: (&amp;#x27;xpath&amp;#x27;, &amp;#x27;//*[@id=&amp;quot;root&amp;quot;]/div/div[1]/div[2]/div[2]/div[1]&amp;#x27;)\nAttempting to click: //*[@id=&amp;quot;root&amp;quot;]/div/div[1]/div[2]/div[2]/div[1]\n&#34;}], &#34;pytest/test_product_rating_pytest_parameterized.py::test_product_rating[colamityjane@test.com-jane1234-Oranges-3]&#34;: [{&#34;extras&#34;: [], &#34;result&#34;: &#34;Failed&#34;, &#34;testId&#34;: &#34;pytest/test_product_rating_pytest_parameterized.py::test_product_rating[colamityjane@test.com-jane1234-Oranges-3]&#34;, &#34;duration&#34;: &#34;00:00:04&#34;, &#34;resultsTableRow&#34;: [&#34;&lt;td class=\&#34;col-result\&#34;&gt;Failed&lt;/td&gt;&#34;, &#34;&lt;td class=\&#34;col-testId\&#34;&gt;pytest/test_product_rating_pytest_parameterized.py::test_product_rating[colamityjane@test.com-jane1234-Oranges-3]&lt;/td&gt;&#34;, &#34;&lt;td class=\&#34;col-duration\&#34;&gt;00:00:04&lt;/td&gt;&#34;, &#34;&lt;td class=\&#34;col-links\&#34;&gt;&lt;/td&gt;&#34;], &#34;log&#34;: &#34;setup = &amp;lt;selenium.webdriver.chrome.webdriver.WebDriver (session=&amp;quot;d7af30ccadf47eef5933c83c5acaacfc&amp;quot;)&amp;gt;, username = &amp;#x27;colamityjane@test.com&amp;#x27;, password = &amp;#x27;jane1234&amp;#x27;\nproduct_name = &amp;#x27;Oranges&amp;#x27;, rating = 3\n\n    @pytest.mark.parametrize(\n        &amp;quot;username, password, product_name, rating&amp;quot;,\n        [\n            (&amp;quot;colamityjane@test.com&amp;quot;, &amp;quot;jane1234&amp;quot;, &amp;quot;Oranges&amp;quot;, 3),\n            (&amp;quot;johnsmith@test.com&amp;quot;, &amp;quot;smith1234&amp;quot;, &amp;quot;Apples&amp;quot;, 4),\n            (&amp;quot;test@test.com&amp;quot;, &amp;quot;678&amp;quot;, &amp;quot;Bananas&amp;quot;, 5),\n        ],\n    )\n    def test_product_rating(setup, username, password, product_name, rating):\n        driver = setup\n        product_rating_page = ProductRatingPage(driver)\n    \n        # Log in as an existing user\n        print(f&amp;quot;Logging in with user: {username}&amp;quot;)\n        product_rating_page.login(username, password)\n    \n        # Navigate to the shop page\n        print(&amp;quot;Navigating to the shop page...&amp;quot;)\n        product_rating_page.navigate_to_shop()\n    \n        # Handle age confirmation popup\n        print(&amp;quot;Handling age confirmation popup...&amp;quot;)\n        product_rating_page.handle_age_confirmation(&amp;quot;01-01-1981&amp;quot;)\n    \n        # Select a product to rate\n        print(f&amp;quot;Selecting product: {product_name} to rate...&amp;quot;)\n        product_rating_page.select_product(product_name)\n    \n        # Submit a rating\n        print(f&amp;quot;Submitting a {rating}-star rating...&amp;quot;)\n        product_rating_page.rate_product(rating)\n    \n        # Verify the rating submission\n        user_display_name = username.split(&amp;quot;@&amp;quot;)[0]\n        print(f&amp;quot;Verifying rating for user: {user_display_name}&amp;quot;)\n&amp;gt;       assert product_rating_page.verify_rating_submission(\n            user_display_name\n        ), f&amp;quot;Rating submission verification failed for user {user_display_name}.&amp;quot;\nE       AssertionError: Rating submission verification failed for user colamityjane.\nE       assert False\nE        +  where False = verify_rating_submission(&amp;#x27;colamityjane&amp;#x27;)\nE        +    where verify_rating_submission = &amp;lt;pages.product_rating_pom.ProductRatingPage object at 0x1069e1340&amp;gt;.verify_rating_submission\n\npytest/test_product_rating_pytest_parameterized.py:53: AssertionError\n\n----------------------------- Captured stdout call -----------------------------\nLogging in with user: colamityjane@test.com\nClicking on element with XPath: (&amp;#x27;xpath&amp;#x27;, &amp;#x27;//*[@id=&amp;quot;root&amp;quot;]/div/div[1]/div[2]/div[2]/div[1]&amp;#x27;)\nAttempting to click: //*[@id=&amp;quot;root&amp;quot;]/div/div[1]/div[2]/div[2]/div[1]\nAttempting to click: //*[@id=&amp;#x27;root&amp;#x27;]/div/div/div[1]/div[1]/div/form/button\nNavigating to the shop page...\nHandling age confirmation popup...\nSelecting product: Oranges to rate...\nSubmitting a 3-star rating...\nFailed to rate the product with 3 stars: Message: stale element reference: stale element not found in the current frame\n  (Session info: chrome=131.0.6778.109); For documentation on this error, please visit: https://www.selenium.dev/documentation/webdriver/troubleshooting/errors#stale-element-reference-exception\nStacktrace:\n0   chromedriver                        0x0000000101197b08 cxxbridge1$str$ptr + 3651580\n1   chromedriver                        0x0000000101190358 cxxbridge1$str$ptr + 3620940\n2   chromedriver                        0x0000000100bf84b4 cxxbridge1$string$len + 89224\n3   chromedriver                        0x0000000100bfd398 cxxbridge1$string$len + 109420\n4   chromedriver                        0x0000000100bff688 cxxbridge1$string$len + 118364\n5   chromedriver                        0x0000000100c76950 cxxbridge1$string$len + 606500\n6   chromedriver                        0x0000000100c760fc cxxbridge1$string$len + 604368\n7   chromedriver                        0x0000000100c310b0 cxxbridge1$string$len + 321668\n8   chromedriver                        0x0000000100c31d00 cxxbridge1$string$len + 324820\n9   chromedriver                        0x0000000101162e4c cxxbridge1$str$ptr + 3435328\n10  chromedriver                        0x0000000101166164 cxxbridge1$str$ptr + 3448408\n11  chromedriver                        0x000000010114a1c0 cxxbridge1$str$ptr + 3333812\n12  chromedriver                        0x0000000101166a24 cxxbridge1$str$ptr + 3450648\n13  chromedriver                        0x000000010113b9cc cxxbridge1$str$ptr + 3274432\n14  chromedriver                        0x0000000101181138 cxxbridge1$str$ptr + 3558956\n15  chromedriver                        0x00000001011812b4 cxxbridge1$str$ptr + 3559336\n16  chromedriver                        0x000000010118ffcc cxxbridge1$str$ptr + 3620032\n17  libsystem_pthread.dylib             0x0000000197dd2f94 _pthread_start + 136\n18  libsystem_pthread.dylib             0x0000000197dcdd34 thread_start + 8\n\nVerifying rating for user: colamityjane\nUsername &amp;#x27;colamityjane&amp;#x27; not found in product comments.\n&#34;}], &#34;pytest/test_product_rating_pytest_parameterized.py::test_product_rating[johnsmith@test.com-smith1234-Apples-4]&#34;: [{&#34;extras&#34;: [], &#34;result&#34;: &#34;Failed&#34;, &#34;testId&#34;: &#34;pytest/test_product_rating_pytest_parameterized.py::test_product_rating[johnsmith@test.com-smith1234-Apples-4]&#34;, &#34;duration&#34;: &#34;00:00:13&#34;, &#34;resultsTableRow&#34;: [&#34;&lt;td class=\&#34;col-result\&#34;&gt;Failed&lt;/td&gt;&#34;, &#34;&lt;td class=\&#34;col-testId\&#34;&gt;pytest/test_product_rating_pytest_parameterized.py::test_product_rating[johnsmith@test.com-smith1234-Apples-4]&lt;/td&gt;&#34;, &#34;&lt;td class=\&#34;col-duration\&#34;&gt;00:00:13&lt;/td&gt;&#34;, &#34;&lt;td class=\&#34;col-links\&#34;&gt;&lt;/td&gt;&#34;], &#34;log&#34;: &#34;setup = &amp;lt;selenium.webdriver.chrome.webdriver.WebDriver (session=&amp;quot;06ce2d7c3f3b146a30117ee91d37437b&amp;quot;)&amp;gt;, username = &amp;#x27;johnsmith@test.com&amp;#x27;, password = &amp;#x27;smith1234&amp;#x27;\nproduct_name = &amp;#x27;Apples&amp;#x27;, rating = 4\n\n    @pytest.mark.parametrize(\n        &amp;quot;username, password, product_name, rating&amp;quot;,\n        [\n            (&amp;quot;colamityjane@test.com&amp;quot;, &amp;quot;jane1234&amp;quot;, &amp;quot;Oranges&amp;quot;, 3),\n            (&amp;quot;johnsmith@test.com&amp;quot;, &amp;quot;smith1234&amp;quot;, &amp;quot;Apples&amp;quot;, 4),\n            (&amp;quot;test@test.com&amp;quot;, &amp;quot;678&amp;quot;, &amp;quot;Bananas&amp;quot;, 5),\n        ],\n    )\n    def test_product_rating(setup, username, password, product_name, rating):\n        driver = setup\n        product_rating_page = ProductRatingPage(driver)\n    \n        # Log in as an existing user\n        print(f&amp;quot;Logging in with user: {username}&amp;quot;)\n        product_rating_page.login(username, password)\n    \n        # Navigate to the shop page\n        print(&amp;quot;Navigating to the shop page...&amp;quot;)\n&amp;gt;       product_rating_page.navigate_to_shop()\n\npytest/test_product_rating_pytest_parameterized.py:36: \n_ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ \npages/product_rating_pom.py:17: in navigate_to_shop\n    shop_button = WebDriverWait(self.driver, 10).until(\n_ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ \n\nself = &amp;lt;selenium.webdriver.support.wait.WebDriverWait (session=&amp;quot;06ce2d7c3f3b146a30117ee91d37437b&amp;quot;)&amp;gt;\nmethod = &amp;lt;function element_to_be_clickable.&amp;lt;locals&amp;gt;._predicate at 0x106a05120&amp;gt;, message = &amp;#x27;&amp;#x27;\n\n    def until(self, method: Callable[[D], Union[Literal[False], T]], message: str = &amp;quot;&amp;quot;) -&amp;gt; T:\n        &amp;quot;&amp;quot;&amp;quot;Calls the method provided with the driver as an argument until the \\\n        return value does not evaluate to ``False``.\n    \n        :param method: callable(WebDriver)\n        :param message: optional message for :exc:`TimeoutException`\n        :returns: the result of the last call to `method`\n        :raises: :exc:`selenium.common.exceptions.TimeoutException` if timeout occurs\n        &amp;quot;&amp;quot;&amp;quot;\n        screen = None\n        stacktrace = None\n    \n        end_time = time.monotonic() + self._timeout\n        while True:\n            try:\n                value = method(self._driver)\n                if value:\n                    return value\n            except self._ignored_exceptions as exc:\n                screen = getattr(exc, &amp;quot;screen&amp;quot;, None)\n                stacktrace = getattr(exc, &amp;quot;stacktrace&amp;quot;, None)\n            if time.monotonic() &amp;gt; end_time:\n                break\n            time.sleep(self._poll)\n&amp;gt;       raise TimeoutException(message, screen, stacktrace)\nE       selenium.common.exceptions.TimeoutException: Message: \nE       Stacktrace:\nE       0   chromedriver                        0x000000010548bb08 cxxbridge1$str$ptr + 3651580\nE       1   chromedriver                        0x0000000105484358 cxxbridge1$str$ptr + 3620940\nE       2   chromedriver                        0x0000000104eec4b4 cxxbridge1$string$len + 89224\nE       3   chromedriver                        0x0000000104f30898 cxxbridge1$string$len + 368748\nE       4   chromedriver                        0x0000000104f6a0fc cxxbridge1$string$len + 604368\nE       5   chromedriver                        0x0000000104f250b0 cxxbridge1$string$len + 321668\nE       6   chromedriver                        0x0000000104f25d00 cxxbridge1$string$len + 324820\nE       7   chromedriver                        0x0000000105456e4c cxxbridge1$str$ptr + 3435328\nE       8   chromedriver                        0x000000010545a164 cxxbridge1$str$ptr + 3448408\nE       9   chromedriver                        0x000000010543e1c0 cxxbridge1$str$ptr + 3333812\nE       10  chromedriver                        0x000000010545aa24 cxxbridge1$str$ptr + 3450648\nE       11  chromedriver                        0x000000010542f9cc cxxbridge1$str$ptr + 3274432\nE       12  chromedriver                        0x0000000105475138 cxxbridge1$str$ptr + 3558956\nE       13  chromedriver                        0x00000001054752b4 cxxbridge1$str$ptr + 3559336\nE       14  chromedriver                        0x0000000105483fcc cxxbridge1$str$ptr + 3620032\nE       15  libsystem_pthread.dylib             0x0000000197dd2f94 _pthread_start + 136\nE       16  libsystem_pthread.dylib             0x0000000197dcdd34 thread_start + 8\n\n.venv/lib/python3.12/site-packages/selenium/webdriver/support/wait.py:105: TimeoutException\n\n----------------------------- Captured stdout call -----------------------------\nLogging in with user: johnsmith@test.com\nClicking on element with XPath: (&amp;#x27;xpath&amp;#x27;, &amp;#x27;//*[@id=&amp;quot;root&amp;quot;]/div/div[1]/div[2]/div[2]/div[1]&amp;#x27;)\nAttempting to click: //*[@id=&amp;quot;root&amp;quot;]/div/div[1]/div[2]/div[2]/div[1]\nAttempting to click: //*[@id=&amp;#x27;root&amp;#x27;]/div/div/div[1]/div[1]/div/form/button\nNavigating to the shop page...\n&#34;}], &#34;pytest/test_product_rating_pytest_parameterized.py::test_product_rating[test@test.com-678-Bananas-5]&#34;: [{&#34;extras&#34;: [], &#34;result&#34;: &#34;Failed&#34;, &#34;testId&#34;: &#34;pytest/test_product_rating_pytest_parameterized.py::test_product_rating[test@test.com-678-Bananas-5]&#34;, &#34;duration&#34;: &#34;00:00:13&#34;, &#34;resultsTableRow&#34;: [&#34;&lt;td class=\&#34;col-result\&#34;&gt;Failed&lt;/td&gt;&#34;, &#34;&lt;td class=\&#34;col-testId\&#34;&gt;pytest/test_product_rating_pytest_parameterized.py::test_product_rating[test@test.com-678-Bananas-5]&lt;/td&gt;&#34;, &#34;&lt;td class=\&#34;col-duration\&#34;&gt;00:00:13&lt;/td&gt;&#34;, &#34;&lt;td class=\&#34;col-links\&#34;&gt;&lt;/td&gt;&#34;], &#34;log&#34;: &#34;setup = &amp;lt;selenium.webdriver.chrome.webdriver.WebDriver (session=&amp;quot;85ffc068e97cd43a7ff1a246aff1e036&amp;quot;)&amp;gt;, username = &amp;#x27;test@test.com&amp;#x27;, password = &amp;#x27;678&amp;#x27;\nproduct_name = &amp;#x27;Bananas&amp;#x27;, rating = 5\n\n    @pytest.mark.parametrize(\n        &amp;quot;username, password, product_name, rating&amp;quot;,\n        [\n            (&amp;quot;colamityjane@test.com&amp;quot;, &amp;quot;jane1234&amp;quot;, &amp;quot;Oranges&amp;quot;, 3),\n            (&amp;quot;johnsmith@test.com&amp;quot;, &amp;quot;smith1234&amp;quot;, &amp;quot;Apples&amp;quot;, 4),\n            (&amp;quot;test@test.com&amp;quot;, &amp;quot;678&amp;quot;, &amp;quot;Bananas&amp;quot;, 5),\n        ],\n    )\n    def test_product_rating(setup, username, password, product_name, rating):\n        driver = setup\n        product_rating_page = ProductRatingPage(driver)\n    \n        # Log in as an existing user\n        print(f&amp;quot;Logging in with user: {username}&amp;quot;)\n        product_rating_page.login(username, password)\n    \n        # Navigate to the shop page\n        print(&amp;quot;Navigating to the shop page...&amp;quot;)\n&amp;gt;       product_rating_page.navigate_to_shop()\n\npytest/test_product_rating_pytest_parameterized.py:36: \n_ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ \npages/product_rating_pom.py:17: in navigate_to_shop\n    shop_button = WebDriverWait(self.driver, 10).until(\n_ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ \n\nself = &amp;lt;selenium.webdriver.support.wait.WebDriverWait (session=&amp;quot;85ffc068e97cd43a7ff1a246aff1e036&amp;quot;)&amp;gt;\nmethod = &amp;lt;function element_to_be_clickable.&amp;lt;locals&amp;gt;._predicate at 0x106a05a80&amp;gt;, message = &amp;#x27;&amp;#x27;\n\n    def until(self, method: Callable[[D], Union[Literal[False], T]], message: str = &amp;quot;&amp;quot;) -&amp;gt; T:\n        &amp;quot;&amp;quot;&amp;quot;Calls the method provided with the driver as an argument until the \\\n        return value does not evaluate to ``False``.\n    \n        :param method: callable(WebDriver)\n        :param message: optional message for :exc:`TimeoutException`\n        :returns: the result of the last call to `method`\n        :raises: :exc:`selenium.common.exceptions.TimeoutException` if timeout occurs\n        &amp;quot;&amp;quot;&amp;quot;\n        screen = None\n        stacktrace = None\n    \n        end_time = time.monotonic() + self._timeout\n        while True:\n            try:\n                value = method(self._driver)\n                if value:\n                    return value\n            except self._ignored_exceptions as exc:\n                screen = getattr(exc, &amp;quot;screen&amp;quot;, None)\n                stacktrace = getattr(exc, &amp;quot;stacktrace&amp;quot;, None)\n            if time.monotonic() &amp;gt; end_time:\n                break\n            time.sleep(self._poll)\n&amp;gt;       raise TimeoutException(message, screen, stacktrace)\nE       selenium.common.exceptions.TimeoutException: Message: \nE       Stacktrace:\nE       0   chromedriver                        0x0000000100c63b08 cxxbridge1$str$ptr + 3651580\nE       1   chromedriver                        0x0000000100c5c358 cxxbridge1$str$ptr + 3620940\nE       2   chromedriver                        0x00000001006c44b4 cxxbridge1$string$len + 89224\nE       3   chromedriver                        0x0000000100708898 cxxbridge1$string$len + 368748\nE       4   chromedriver                        0x00000001007420fc cxxbridge1$string$len + 604368\nE       5   chromedriver                        0x00000001006fd0b0 cxxbridge1$string$len + 321668\nE       6   chromedriver                        0x00000001006fdd00 cxxbridge1$string$len + 324820\nE       7   chromedriver                        0x0000000100c2ee4c cxxbridge1$str$ptr + 3435328\nE       8   chromedriver                        0x0000000100c32164 cxxbridge1$str$ptr + 3448408\nE       9   chromedriver                        0x0000000100c161c0 cxxbridge1$str$ptr + 3333812\nE       10  chromedriver                        0x0000000100c32a24 cxxbridge1$str$ptr + 3450648\nE       11  chromedriver                        0x0000000100c079cc cxxbridge1$str$ptr + 3274432\nE       12  chromedriver                        0x0000000100c4d138 cxxbridge1$str$ptr + 3558956\nE       13  chromedriver                        0x0000000100c4d2b4 cxxbridge1$str$ptr + 3559336\nE       14  chromedriver                        0x0000000100c5bfcc cxxbridge1$str$ptr + 3620032\nE       15  libsystem_pthread.dylib             0x0000000197dd2f94 _pthread_start + 136\nE       16  libsystem_pthread.dylib             0x0000000197dcdd34 thread_start + 8\n\n.venv/lib/python3.12/site-packages/selenium/webdriver/support/wait.py:105: TimeoutException\n\n----------------------------- Captured stdout call -----------------------------\nLogging in with user: test@test.com\nClicking on element with XPath: (&amp;#x27;xpath&amp;#x27;, &amp;#x27;//*[@id=&amp;quot;root&amp;quot;]/div/div[1]/div[2]/div[2]/div[1]&amp;#x27;)\nAttempting to click: //*[@id=&amp;quot;root&amp;quot;]/div/div[1]/div[2]/div[2]/div[1]\nAttempting to click: //*[@id=&amp;#x27;root&amp;#x27;]/div/div/div[1]/div[1]/div/form/button\nNavigating to the shop page...\n&#34;}], &#34;pytest/test_shipping_costs_fee_params.py::test_shipping_costs_for_total_less_than_20[18.01.1981-5-15.0-5]&#34;: [{&#34;extras&#34;: [], &#34;result&#34;: &#34;Passed&#34;, &#34;testId&#34;: &#34;pytest/test_shipping_costs_fee_params.py::test_shipping_costs_for_total_less_than_20[18.01.1981-5-15.0-5]&#34;, &#34;duration&#34;: &#34;00:00:04&#34;, &#34;resultsTableRow&#34;: [&#34;&lt;td class=\&#34;col-result\&#34;&gt;Passed&lt;/td&gt;&#34;, &#34;&lt;td class=\&#34;col-testId\&#34;&gt;pytest/test_shipping_costs_fee_params.py::test_shipping_costs_for_total_less_than_20[18.01.1981-5-15.0-5]&lt;/td&gt;&#34;, &#34;&lt;td class=\&#34;col-duration\&#34;&gt;00:00:04&lt;/td&gt;&#34;, &#34;&lt;td class=\&#34;col-links\&#34;&gt;&lt;/td&gt;&#34;], &#34;log&#34;: &#34;---------------------------- Captured stdout setup -----------------------------\nOpened website: https://grocerymate.masterschool.com\n\n----------------------------- Captured stdout call -----------------------------\nLogging in...\nLogin successful.\nNavigating to the store...\nHandling age verification...\nEntered date of birth: 18.01.1981\nClicked on the confirm button to bypass age verification.\nAge verification completed.\nAdding 5 items to the cart...\n5 items added to the cart.\nNavigating to the cart to check items and total cost...\nNavigating to the cart page directly...\nSuccessfully navigated to the cart page.\nFetching updated shipping and total cost...\nShipping cost: 5.0, Total cost: 17.5\nAssertions passed.\n--------------------------- Captured stdout teardown ---------------------------\nTest completed, quitting the driver.\n&#34;}], &#34;tests/test_ageVerification.py::test_shop_cart[colamityjane@test.com-jane1234-01-01-1981-None]&#34;: [{&#34;extras&#34;: [], &#34;result&#34;: &#34;Failed&#34;, &#34;testId&#34;: &#34;tests/test_ageVerification.py::test_shop_cart[colamityjane@test.com-jane1234-01-01-1981-None]&#34;, &#34;duration&#34;: &#34;00:00:13&#34;, &#34;resultsTableRow&#34;: [&#34;&lt;td class=\&#34;col-result\&#34;&gt;Failed&lt;/td&gt;&#34;, &#34;&lt;td class=\&#34;col-testId\&#34;&gt;tests/test_ageVerification.py::test_shop_cart[colamityjane@test.com-jane1234-01-01-1981-None]&lt;/td&gt;&#34;, &#34;&lt;td class=\&#34;col-duration\&#34;&gt;00:00:13&lt;/td&gt;&#34;, &#34;&lt;td class=\&#34;col-links\&#34;&gt;&lt;/td&gt;&#34;], &#34;log&#34;: &#34;setup = &amp;lt;selenium.webdriver.chrome.webdriver.WebDriver (session=&amp;quot;6a519cb53a6ea4cd3aa7684c3533c08e&amp;quot;)&amp;gt;, username = &amp;#x27;colamityjane@test.com&amp;#x27;, password = &amp;#x27;jane1234&amp;#x27;\ndob = &amp;#x27;01-01-1981&amp;#x27;, expected_error = None\n\n    @pytest.mark.parametrize(\n        &amp;quot;username, password, dob, expected_error&amp;quot;,\n        [\n            (&amp;quot;colamityjane@test.com&amp;quot;, &amp;quot;jane1234&amp;quot;, &amp;quot;01-01-1981&amp;quot;, None),\n            (&amp;quot;younguser@test.com&amp;quot;, &amp;quot;young123&amp;quot;, &amp;quot;01-01-2010&amp;quot;, &amp;quot;Age verification failed&amp;quot;)\n        ]\n    )\n    def test_shop_cart(setup, username, password, dob, expected_error):\n        driver = setup\n        login_page = LoginPage(driver)\n        common = CommonPage(driver)\n        age_verification_page = AgeVerificationPage(driver)\n    \n        print(f&amp;quot;Logging in with user: {username}&amp;quot;)\n        login_page.login(username, password)\n    \n        print(&amp;quot;Navigating to the shop page...&amp;quot;)\n        shop_button = WebDriverWait(driver, 10).until(\n            EC.element_to_be_clickable((By.XPATH, &amp;#x27;//*[@id=&amp;quot;root&amp;quot;]/div/div[2]/div/div/ul/li[2]/a&amp;#x27;))\n        )\n        shop_button.click()\n    \n        # Handle age confirmation\n        print(f&amp;quot;Handling age confirmation for DOB: {dob}&amp;quot;)\n        age_verification_page.handle_age_confirmation(dob)\n    \n        if expected_error:\n            assert age_verification_page.is_age_validation_triggered(), f&amp;quot;Expected error but none was found.&amp;quot;\n            print(f&amp;quot;Error correctly displayed for underage user: {dob}&amp;quot;)\n        else:\n            print(&amp;quot;Adding product to cart...&amp;quot;)\n            add_to_cart_button = WebDriverWait(driver, 10).until(\n                EC.element_to_be_clickable((By.XPATH, &amp;#x27;//*[@id=&amp;quot;root&amp;quot;]/div/div[3]/div[2]/div/div[2]/div[1]/div/div[2]/div[3]/div/div[2]/button&amp;#x27;))\n            )\n            add_to_cart_button.click()\n    \n            print(&amp;quot;Navigating to the checkout page...&amp;quot;)\n            driver.get(&amp;quot;https://grocerymate.masterschool.com/checkout&amp;quot;)\n            print(&amp;quot;Verifying the product in the cart...&amp;quot;)\n&amp;gt;           product_name = WebDriverWait(driver, 10).until(\n                EC.presence_of_element_located((By.XPATH, &amp;#x27;//*[contains(text(), &amp;quot;Celery&amp;quot;)]&amp;#x27;))\n            )\n\ntests/test_ageVerification.py:60: \n_ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ \n\nself = &amp;lt;selenium.webdriver.support.wait.WebDriverWait (session=&amp;quot;6a519cb53a6ea4cd3aa7684c3533c08e&amp;quot;)&amp;gt;\nmethod = &amp;lt;function presence_of_element_located.&amp;lt;locals&amp;gt;._predicate at 0x1069a68e0&amp;gt;, message = &amp;#x27;&amp;#x27;\n\n    def until(self, method: Callable[[D], Union[Literal[False], T]], message: str = &amp;quot;&amp;quot;) -&amp;gt; T:\n        &amp;quot;&amp;quot;&amp;quot;Calls the method provided with the driver as an argument until the \\\n        return value does not evaluate to ``False``.\n    \n        :param method: callable(WebDriver)\n        :param message: optional message for :exc:`TimeoutException`\n        :returns: the result of the last call to `method`\n        :raises: :exc:`selenium.common.exceptions.TimeoutException` if timeout occurs\n        &amp;quot;&amp;quot;&amp;quot;\n        screen = None\n        stacktrace = None\n    \n        end_time = time.monotonic() + self._timeout\n        while True:\n            try:\n                value = method(self._driver)\n                if value:\n                    return value\n            except self._ignored_exceptions as exc:\n                screen = getattr(exc, &amp;quot;screen&amp;quot;, None)\n                stacktrace = getattr(exc, &amp;quot;stacktrace&amp;quot;, None)\n            if time.monotonic() &amp;gt; end_time:\n                break\n            time.sleep(self._poll)\n&amp;gt;       raise TimeoutException(message, screen, stacktrace)\nE       selenium.common.exceptions.TimeoutException: Message: \nE       Stacktrace:\nE       0   chromedriver                        0x0000000102bcbb08 cxxbridge1$str$ptr + 3651580\nE       1   chromedriver                        0x0000000102bc4358 cxxbridge1$str$ptr + 3620940\nE       2   chromedriver                        0x000000010262c4b4 cxxbridge1$string$len + 89224\nE       3   chromedriver                        0x0000000102670898 cxxbridge1$string$len + 368748\nE       4   chromedriver                        0x00000001026aa0fc cxxbridge1$string$len + 604368\nE       5   chromedriver                        0x00000001026650b0 cxxbridge1$string$len + 321668\nE       6   chromedriver                        0x0000000102665d00 cxxbridge1$string$len + 324820\nE       7   chromedriver                        0x0000000102b96e4c cxxbridge1$str$ptr + 3435328\nE       8   chromedriver                        0x0000000102b9a164 cxxbridge1$str$ptr + 3448408\nE       9   chromedriver                        0x0000000102b7e1c0 cxxbridge1$str$ptr + 3333812\nE       10  chromedriver                        0x0000000102b9aa24 cxxbridge1$str$ptr + 3450648\nE       11  chromedriver                        0x0000000102b6f9cc cxxbridge1$str$ptr + 3274432\nE       12  chromedriver                        0x0000000102bb5138 cxxbridge1$str$ptr + 3558956\nE       13  chromedriver                        0x0000000102bb52b4 cxxbridge1$str$ptr + 3559336\nE       14  chromedriver                        0x0000000102bc3fcc cxxbridge1$str$ptr + 3620032\nE       15  libsystem_pthread.dylib             0x0000000197dd2f94 _pthread_start + 136\nE       16  libsystem_pthread.dylib             0x0000000197dcdd34 thread_start + 8\n\n.venv/lib/python3.12/site-packages/selenium/webdriver/support/wait.py:105: TimeoutException\n\n----------------------------- Captured stdout call -----------------------------\nLogging in with user: colamityjane@test.com\nClicking on element with XPath: (&amp;#x27;xpath&amp;#x27;, &amp;#x27;//*[@id=&amp;quot;root&amp;quot;]/div/div[1]/div[2]/div[2]/div[1]&amp;#x27;)\nAttempting to click: //*[@id=&amp;quot;root&amp;quot;]/div/div[1]/div[2]/div[2]/div[1]\nAttempting to click: //*[@id=&amp;#x27;root&amp;#x27;]/div/div/div[1]/div[1]/div/form/button\nNavigating to the shop page...\nHandling age confirmation for DOB: 01-01-1981\nAdding product to cart...\nNavigating to the checkout page...\nVerifying the product in the cart...\n&#34;}], &#34;tests/test_ageVerification.py::test_shop_cart[younguser@test.com-young123-01-01-2010-Age verification failed]&#34;: [{&#34;extras&#34;: [], &#34;result&#34;: &#34;Failed&#34;, &#34;testId&#34;: &#34;tests/test_ageVerification.py::test_shop_cart[younguser@test.com-young123-01-01-2010-Age verification failed]&#34;, &#34;duration&#34;: &#34;00:00:24&#34;, &#34;resultsTableRow&#34;: [&#34;&lt;td class=\&#34;col-result\&#34;&gt;Failed&lt;/td&gt;&#34;, &#34;&lt;td class=\&#34;col-testId\&#34;&gt;tests/test_ageVerification.py::test_shop_cart[younguser@test.com-young123-01-01-2010-Age verification failed]&lt;/td&gt;&#34;, &#34;&lt;td class=\&#34;col-duration\&#34;&gt;00:00:24&lt;/td&gt;&#34;, &#34;&lt;td class=\&#34;col-links\&#34;&gt;&lt;/td&gt;&#34;], &#34;log&#34;: &#34;setup = &amp;lt;selenium.webdriver.chrome.webdriver.WebDriver (session=&amp;quot;c718218186fc01e7e9d2f056570be094&amp;quot;)&amp;gt;, username = &amp;#x27;younguser@test.com&amp;#x27;, password = &amp;#x27;young123&amp;#x27;\ndob = &amp;#x27;01-01-2010&amp;#x27;, expected_error = &amp;#x27;Age verification failed&amp;#x27;\n\n    @pytest.mark.parametrize(\n        &amp;quot;username, password, dob, expected_error&amp;quot;,\n        [\n            (&amp;quot;colamityjane@test.com&amp;quot;, &amp;quot;jane1234&amp;quot;, &amp;quot;01-01-1981&amp;quot;, None),\n            (&amp;quot;younguser@test.com&amp;quot;, &amp;quot;young123&amp;quot;, &amp;quot;01-01-2010&amp;quot;, &amp;quot;Age verification failed&amp;quot;)\n        ]\n    )\n    def test_shop_cart(setup, username, password, dob, expected_error):\n        driver = setup\n        login_page = LoginPage(driver)\n        common = CommonPage(driver)\n        age_verification_page = AgeVerificationPage(driver)\n    \n        print(f&amp;quot;Logging in with user: {username}&amp;quot;)\n        login_page.login(username, password)\n    \n        print(&amp;quot;Navigating to the shop page...&amp;quot;)\n        shop_button = WebDriverWait(driver, 10).until(\n            EC.element_to_be_clickable((By.XPATH, &amp;#x27;//*[@id=&amp;quot;root&amp;quot;]/div/div[2]/div/div/ul/li[2]/a&amp;#x27;))\n        )\n        shop_button.click()\n    \n        # Handle age confirmation\n        print(f&amp;quot;Handling age confirmation for DOB: {dob}&amp;quot;)\n        age_verification_page.handle_age_confirmation(dob)\n    \n        if expected_error:\n&amp;gt;           assert age_verification_page.is_age_validation_triggered(), f&amp;quot;Expected error but none was found.&amp;quot;\nE           AssertionError: Expected error but none was found.\nE           assert False\nE            +  where False = is_age_validation_triggered()\nE            +    where is_age_validation_triggered = &amp;lt;pages.age_verification_pom.AgeVerificationPage object at 0x106a46300&amp;gt;.is_age_validation_triggered\n\ntests/test_ageVerification.py:48: AssertionError\n\n----------------------------- Captured stdout call -----------------------------\nLogging in with user: younguser@test.com\nClicking on element with XPath: (&amp;#x27;xpath&amp;#x27;, &amp;#x27;//*[@id=&amp;quot;root&amp;quot;]/div/div[1]/div[2]/div[2]/div[1]&amp;#x27;)\nAttempting to click: //*[@id=&amp;quot;root&amp;quot;]/div/div[1]/div[2]/div[2]/div[1]\nAttempting to click: //*[@id=&amp;#x27;root&amp;#x27;]/div/div/div[1]/div[1]/div/form/button\nNavigating to the shop page...\nHandling age confirmation for DOB: 01-01-2010\n&#34;}], &#34;tests/test_login.py::TestLogin::test_successful_login&#34;: [{&#34;extras&#34;: [], &#34;result&#34;: &#34;Passed&#34;, &#34;testId&#34;: &#34;tests/test_login.py::TestLogin::test_successful_login&#34;, &#34;duration&#34;: &#34;00:00:04&#34;, &#34;resultsTableRow&#34;: [&#34;&lt;td class=\&#34;col-result\&#34;&gt;Passed&lt;/td&gt;&#34;, &#34;&lt;td class=\&#34;col-testId\&#34;&gt;tests/test_login.py::TestLogin::test_successful_login&lt;/td&gt;&#34;, &#34;&lt;td class=\&#34;col-duration\&#34;&gt;00:00:04&lt;/td&gt;&#34;, &#34;&lt;td class=\&#34;col-links\&#34;&gt;&lt;/td&gt;&#34;], &#34;log&#34;: &#34;----------------------------- Captured stdout call -----------------------------\nClicking on element with XPath: (&amp;#x27;xpath&amp;#x27;, &amp;#x27;//*[@id=&amp;quot;root&amp;quot;]/div/div[1]/div[2]/div[2]/div[1]&amp;#x27;)\nAttempting to click: //*[@id=&amp;quot;root&amp;quot;]/div/div[1]/div[2]/div[2]/div[1]\nAttempting to click: //*[@id=&amp;#x27;root&amp;#x27;]/div/div/div[1]/div[1]/div/form/button\nClicking on element with XPath: (&amp;#x27;xpath&amp;#x27;, &amp;#x27;//*[@id=&amp;quot;root&amp;quot;]/div/div[1]/div[2]/div[2]/div[1]&amp;#x27;)\nAttempting to click: //*[@id=&amp;quot;root&amp;quot;]/div/div[1]/div[2]/div[2]/div[1]\n&#34;}], &#34;tests/test_payment.py::TestPayment::test_payment&#34;: [{&#34;extras&#34;: [], &#34;result&#34;: &#34;Passed&#34;, &#34;testId&#34;: &#34;tests/test_payment.py::TestPayment::test_payment&#34;, &#34;duration&#34;: &#34;00:00:05&#34;, &#34;resultsTableRow&#34;: [&#34;&lt;td class=\&#34;col-result\&#34;&gt;Passed&lt;/td&gt;&#34;, &#34;&lt;td class=\&#34;col-testId\&#34;&gt;tests/test_payment.py::TestPayment::test_payment&lt;/td&gt;&#34;, &#34;&lt;td class=\&#34;col-duration\&#34;&gt;00:00:05&lt;/td&gt;&#34;, &#34;&lt;td class=\&#34;col-links\&#34;&gt;&lt;/td&gt;&#34;], &#34;log&#34;: &#34;----------------------------- Captured stdout call -----------------------------\nClicking on element with XPath: (&amp;#x27;xpath&amp;#x27;, &amp;#x27;//*[@id=&amp;quot;root&amp;quot;]/div/div[1]/div[2]/div[2]/div[1]&amp;#x27;)\nAttempting to click: //*[@id=&amp;quot;root&amp;quot;]/div/div[1]/div[2]/div[2]/div[1]\nAttempting to click: //*[@id=&amp;#x27;root&amp;#x27;]/div/div/div[1]/div[1]/div/form/button\nAttempting to click: //*[@id=&amp;quot;root&amp;quot;]/div/section/div/div[2]/div/form/button\nnavigating back to checkout, to verify the cart has been emptied after the payment process...\nempty cart image is present...\n&#34;}], &#34;tests/test_product_rating.py::test_product_rating&#34;: [{&#34;extras&#34;: [], &#34;result&#34;: &#34;Passed&#34;, &#34;testId&#34;: &#34;tests/test_product_rating.py::test_product_rating&#34;, &#34;duration&#34;: &#34;00:00:03&#34;, &#34;resultsTableRow&#34;: [&#34;&lt;td class=\&#34;col-result\&#34;&gt;Passed&lt;/td&gt;&#34;, &#34;&lt;td class=\&#34;col-testId\&#34;&gt;tests/test_product_rating.py::test_product_rating&lt;/td&gt;&#34;, &#34;&lt;td class=\&#34;col-duration\&#34;&gt;00:00:03&lt;/td&gt;&#34;, &#34;&lt;td class=\&#34;col-links\&#34;&gt;&lt;/td&gt;&#34;], &#34;log&#34;: &#34;----------------------------- Captured stdout call -----------------------------\nLogging in with existing user... colamity jane\nClicking on element with XPath: (&amp;#x27;xpath&amp;#x27;, &amp;#x27;//*[@id=&amp;quot;root&amp;quot;]/div/div[1]/div[2]/div[2]/div[1]&amp;#x27;)\nAttempting to click: //*[@id=&amp;quot;root&amp;quot;]/div/div[1]/div[2]/div[2]/div[1]\nAttempting to click: //*[@id=&amp;#x27;root&amp;#x27;]/div/div/div[1]/div[1]/div/form/button\nNavigating to the shop page...\nHandling age confirmation popup...\nSelecting a product to rate...\nSubmitting a 3-star rating...\nFailed to rate the product with 3 stars: Message: stale element reference: stale element not found in the current frame\n  (Session info: chrome=131.0.6778.109); For documentation on this error, please visit: https://www.selenium.dev/documentation/webdriver/troubleshooting/errors#stale-element-reference-exception\nStacktrace:\n0   chromedriver                        0x0000000102683b08 cxxbridge1$str$ptr + 3651580\n1   chromedriver                        0x000000010267c358 cxxbridge1$str$ptr + 3620940\n2   chromedriver                        0x00000001020e44b4 cxxbridge1$string$len + 89224\n3   chromedriver                        0x00000001020e9398 cxxbridge1$string$len + 109420\n4   chromedriver                        0x00000001020eb3e8 cxxbridge1$string$len + 117692\n5   chromedriver                        0x00000001020eb490 cxxbridge1$string$len + 117860\n6   chromedriver                        0x000000010212e074 cxxbridge1$string$len + 391240\n7   chromedriver                        0x000000010212c3dc cxxbridge1$string$len + 383920\n8   chromedriver                        0x000000010212a6c0 cxxbridge1$string$len + 376468\n9   chromedriver                        0x0000000102129af8 cxxbridge1$string$len + 373452\n10  chromedriver                        0x000000010211f128 cxxbridge1$string$len + 329980\n11  chromedriver                        0x000000010211ea10 cxxbridge1$string$len + 328164\n12  chromedriver                        0x00000001021620fc cxxbridge1$string$len + 604368\n13  chromedriver                        0x000000010211d0b0 cxxbridge1$string$len + 321668\n14  chromedriver                        0x000000010211dd00 cxxbridge1$string$len + 324820\n15  chromedriver                        0x000000010264ee4c cxxbridge1$str$ptr + 3435328\n16  chromedriver                        0x0000000102652164 cxxbridge1$str$ptr + 3448408\n17  chromedriver                        0x00000001026361c0 cxxbridge1$str$ptr + 3333812\n18  chromedriver                        0x0000000102652a24 cxxbridge1$str$ptr + 3450648\n19  chromedriver                        0x00000001026279cc cxxbridge1$str$ptr + 3274432\n20  chromedriver                        0x000000010266d138 cxxbridge1$str$ptr + 3558956\n21  chromedriver                        0x000000010266d2b4 cxxbridge1$str$ptr + 3559336\n22  chromedriver                        0x000000010267bfcc cxxbridge1$str$ptr + 3620032\n23  libsystem_pthread.dylib             0x0000000197dd2f94 _pthread_start + 136\n24  libsystem_pthread.dylib             0x0000000197dcdd34 thread_start + 8\n\nVerifying rating\nUsername &amp;#x27;colamity jane&amp;#x27; found in product comments.\nProduct rating successfully verified!\n&#34;}], &#34;tests/test_product_search.py::TestSearchProduct::test_product_search&#34;: [{&#34;extras&#34;: [], &#34;result&#34;: &#34;Passed&#34;, &#34;testId&#34;: &#34;tests/test_product_search.py::TestSearchProduct::test_product_search&#34;, &#34;duration&#34;: &#34;00:00:04&#34;, &#34;resultsTableRow&#34;: [&#34;&lt;td class=\&#34;col-result\&#34;&gt;Passed&lt;/td&gt;&#34;, &#34;&lt;td class=\&#34;col-testId\&#34;&gt;tests/test_product_search.py::TestSearchProduct::test_product_search&lt;/td&gt;&#34;, &#34;&lt;td class=\&#34;col-duration\&#34;&gt;00:00:04&lt;/td&gt;&#34;, &#34;&lt;td class=\&#34;col-links\&#34;&gt;&lt;/td&gt;&#34;], &#34;log&#34;: &#34;----------------------------- Captured stdout call -----------------------------\nLogging in...\nClicking on element with XPath: (&amp;#x27;xpath&amp;#x27;, &amp;#x27;//*[@id=&amp;quot;root&amp;quot;]/div/div[1]/div[2]/div[2]/div[1]&amp;#x27;)\nAttempting to click: //*[@id=&amp;quot;root&amp;quot;]/div/div[1]/div[2]/div[2]/div[1]\nAttempting to click: //*[@id=&amp;#x27;root&amp;#x27;]/div/div/div[1]/div[1]/div/form/button\nNavigating to shop page...\nBypassing age confirmation popup...\nSearching for product &amp;#x27;Ginger&amp;#x27;...\nSelecting the Ginger item from the search results...\nProduct search successful. Ginger is displayed.\n&#34;}], &#34;tests/test_registration.py::TestRegistration::test_registration&#34;: [{&#34;extras&#34;: [], &#34;result&#34;: &#34;Passed&#34;, &#34;testId&#34;: &#34;tests/test_registration.py::TestRegistration::test_registration&#34;, &#34;duration&#34;: &#34;00:00:03&#34;, &#34;resultsTableRow&#34;: [&#34;&lt;td class=\&#34;col-result\&#34;&gt;Passed&lt;/td&gt;&#34;, &#34;&lt;td class=\&#34;col-testId\&#34;&gt;tests/test_registration.py::TestRegistration::test_registration&lt;/td&gt;&#34;, &#34;&lt;td class=\&#34;col-duration\&#34;&gt;00:00:03&lt;/td&gt;&#34;, &#34;&lt;td class=\&#34;col-links\&#34;&gt;&lt;/td&gt;&#34;], &#34;log&#34;: &#34;----------------------------- Captured stdout call -----------------------------\nRegistered new user with email: testuser_p3yp4nqs@example.com and password: h],+nmM/[p-2\n&#34;}], &#34;tests/test_shippingCosts.py::TestShippingCost::test_shipping_costs&#34;: [{&#34;extras&#34;: [], &#34;result&#34;: &#34;Passed&#34;, &#34;testId&#34;: &#34;tests/test_shippingCosts.py::TestShippingCost::test_shipping_costs&#34;, &#34;duration&#34;: &#34;00:00:04&#34;, &#34;resultsTableRow&#34;: [&#34;&lt;td class=\&#34;col-result\&#34;&gt;Passed&lt;/td&gt;&#34;, &#34;&lt;td class=\&#34;col-testId\&#34;&gt;tests/test_shippingCosts.py::TestShippingCost::test_shipping_costs&lt;/td&gt;&#34;, &#34;&lt;td class=\&#34;col-duration\&#34;&gt;00:00:04&lt;/td&gt;&#34;, &#34;&lt;td class=\&#34;col-links\&#34;&gt;&lt;/td&gt;&#34;], &#34;log&#34;: &#34;---------------------------- Captured stdout setup -----------------------------\nOpened website: https://grocerymate.masterschool.com\nDeleted all cookies to start fresh session.\n\n----------------------------- Captured stdout call -----------------------------\nLogging in...\nLogin successful.\nNavigating to the store...\nHandling age verification...\nEntered date of birth: 01/01/1990\nClicked on the confirm button to bypass age verification.\nAge verification completed.\nAdding 15 items to the cart...\n15 items added to the cart.\nNavigating to the cart to check items and total cost...\nNavigating to the cart page directly...\nSuccessfully navigated to the cart page.\nFetching updated shipping and total cost...\nShipping cost: 0.0, Total cost: 50.89\nVerifying that shipping cost is 0 when total cost is greater than 20...\nAssertions passed.\n--------------------------- Captured stdout teardown ---------------------------\nTest completed, quitting the driver.\n&#34;}], &#34;tests/test_shipping_costs_fee.py::TestShippingCost::test_shipping_costs_for_total_less_than_20&#34;: [{&#34;extras&#34;: [], &#34;result&#34;: &#34;Passed&#34;, &#34;testId&#34;: &#34;tests/test_shipping_costs_fee.py::TestShippingCost::test_shipping_costs_for_total_less_than_20&#34;, &#34;duration&#34;: &#34;00:00:04&#34;, &#34;resultsTableRow&#34;: [&#34;&lt;td class=\&#34;col-result\&#34;&gt;Passed&lt;/td&gt;&#34;, &#34;&lt;td class=\&#34;col-testId\&#34;&gt;tests/test_shipping_costs_fee.py::TestShippingCost::test_shipping_costs_for_total_less_than_20&lt;/td&gt;&#34;, &#34;&lt;td class=\&#34;col-duration\&#34;&gt;00:00:04&lt;/td&gt;&#34;, &#34;&lt;td class=\&#34;col-links\&#34;&gt;&lt;/td&gt;&#34;], &#34;log&#34;: &#34;---------------------------- Captured stdout setup -----------------------------\nOpened website: https://grocerymate.masterschool.com\nDeleted all cookies to start fresh session.\n\n----------------------------- Captured stdout call -----------------------------\nLogging in...\nLogin successful.\nNavigating to the store...\nHandling age verification...\nEntered date of birth: 01/01/1990\nClicked on the confirm button to bypass age verification.\nAge verification completed.\nAdding 5 items to the cart...\n5 items added to the cart.\nNavigating to the cart to check items and total cost...\nNavigating to the cart page directly...\nSuccessfully navigated to the cart page.\nFetching updated shipping and total cost...\nShipping cost: 5.0, Total cost: nan\nAssertions passed.\n--------------------------- Captured stdout teardown ---------------------------\nTest completed, quitting the driver.\n&#34;}], &#34;tests/test_shop.py::TestShop::test_shop_cart&#34;: [{&#34;extras&#34;: [], &#34;result&#34;: &#34;Passed&#34;, &#34;testId&#34;: &#34;tests/test_shop.py::TestShop::test_shop_cart&#34;, &#34;duration&#34;: &#34;00:00:03&#34;, &#34;resultsTableRow&#34;: [&#34;&lt;td class=\&#34;col-result\&#34;&gt;Passed&lt;/td&gt;&#34;, &#34;&lt;td class=\&#34;col-testId\&#34;&gt;tests/test_shop.py::TestShop::test_shop_cart&lt;/td&gt;&#34;, &#34;&lt;td class=\&#34;col-duration\&#34;&gt;00:00:03&lt;/td&gt;&#34;, &#34;&lt;td class=\&#34;col-links\&#34;&gt;&lt;/td&gt;&#34;], &#34;log&#34;: &#34;----------------------------- Captured stdout call -----------------------------\nLogging in with existing user...colamity jane \nClicking on element with XPath: (&amp;#x27;xpath&amp;#x27;, &amp;#x27;//*[@id=&amp;quot;root&amp;quot;]/div/div[1]/div[2]/div[2]/div[1]&amp;#x27;)\nAttempting to click: //*[@id=&amp;quot;root&amp;quot;]/div/div[1]/div[2]/div[2]/div[1]\nAttempting to click: //*[@id=&amp;#x27;root&amp;#x27;]/div/div/div[1]/div[1]/div/form/button\nNavigating to the shop page...\nHandling age confirmation popup...\nAdding product to cart...\nNavigating to the checkout page - masterschool.com/checkout\nVerifying the product in the cart...\nProduct successfully found in the cart!\n&#34;}]}, &#34;renderCollapsed&#34;: [&#34;passed&#34;], &#34;initialSort&#34;: &#34;result&#34;, &#34;title&#34;: &#34;report.html&#34;}"></div>
    <script>
      (function(){function r(e,n,t){function o(i,f){if(!n[i]){if(!e[i]){var c="function"==typeof require&&require;if(!f&&c)return c(i,!0);if(u)return u(i,!0);var a=new Error("Cannot find module '"+i+"'");throw a.code="MODULE_NOT_FOUND",a}var p=n[i]={exports:{}};e[i][0].call(p.exports,function(r){var n=e[i][1][r];return o(n||r)},p,p.exports,r,e,n,t)}return n[i].exports}for(var u="function"==typeof require&&require,i=0;i<t.length;i++)o(t[i]);return o}return r})()({1:[function(require,module,exports){
const { getCollapsedCategory, setCollapsedIds } = require('./storage.js')

class DataManager {
    setManager(data) {
        const collapsedCategories = [...getCollapsedCategory(data.renderCollapsed)]
        const collapsedIds = []
        const tests = Object.values(data.tests).flat().map((test, index) => {
            const collapsed = collapsedCategories.includes(test.result.toLowerCase())
            const id = `test_${index}`
            if (collapsed) {
                collapsedIds.push(id)
            }
            return {
                ...test,
                id,
                collapsed,
            }
        })
        const dataBlob = { ...data, tests }
        this.data = { ...dataBlob }
        this.renderData = { ...dataBlob }
        setCollapsedIds(collapsedIds)
    }

    get allData() {
        return { ...this.data }
    }

    resetRender() {
        this.renderData = { ...this.data }
    }

    setRender(data) {
        this.renderData.tests = [...data]
    }

    toggleCollapsedItem(id) {
        this.renderData.tests = this.renderData.tests.map((test) =>
            test.id === id ? { ...test, collapsed: !test.collapsed } : test,
        )
    }

    set allCollapsed(collapsed) {
        this.renderData = { ...this.renderData, tests: [...this.renderData.tests.map((test) => (
            { ...test, collapsed }
        ))] }
    }

    get testSubset() {
        return [...this.renderData.tests]
    }

    get environment() {
        return this.renderData.environment
    }

    get initialSort() {
        return this.data.initialSort
    }
}

module.exports = {
    manager: new DataManager(),
}

},{"./storage.js":8}],2:[function(require,module,exports){
const mediaViewer = require('./mediaviewer.js')
const templateEnvRow = document.getElementById('template_environment_row')
const templateResult = document.getElementById('template_results-table__tbody')

function htmlToElements(html) {
    const temp = document.createElement('template')
    temp.innerHTML = html
    return temp.content.childNodes
}

const find = (selector, elem) => {
    if (!elem) {
        elem = document
    }
    return elem.querySelector(selector)
}

const findAll = (selector, elem) => {
    if (!elem) {
        elem = document
    }
    return [...elem.querySelectorAll(selector)]
}

const dom = {
    getStaticRow: (key, value) => {
        const envRow = templateEnvRow.content.cloneNode(true)
        const isObj = typeof value === 'object' && value !== null
        const values = isObj ? Object.keys(value).map((k) => `${k}: ${value[k]}`) : null

        const valuesElement = htmlToElements(
            values ? `<ul>${values.map((val) => `<li>${val}</li>`).join('')}<ul>` : `<div>${value}</div>`)[0]
        const td = findAll('td', envRow)
        td[0].textContent = key
        td[1].appendChild(valuesElement)

        return envRow
    },
    getResultTBody: ({ testId, id, log, extras, resultsTableRow, tableHtml, result, collapsed }) => {
        const resultBody = templateResult.content.cloneNode(true)
        resultBody.querySelector('tbody').classList.add(result.toLowerCase())
        resultBody.querySelector('tbody').id = testId
        resultBody.querySelector('.collapsible').dataset.id = id

        resultsTableRow.forEach((html) => {
            const t = document.createElement('template')
            t.innerHTML = html
            resultBody.querySelector('.collapsible').appendChild(t.content)
        })

        if (log) {
            // Wrap lines starting with "E" with span.error to color those lines red
            const wrappedLog = log.replace(/^E.*$/gm, (match) => `<span class="error">${match}</span>`)
            resultBody.querySelector('.log').innerHTML = wrappedLog
        } else {
            resultBody.querySelector('.log').remove()
        }

        if (collapsed) {
            resultBody.querySelector('.collapsible > td')?.classList.add('collapsed')
            resultBody.querySelector('.extras-row').classList.add('hidden')
        } else {
            resultBody.querySelector('.collapsible > td')?.classList.remove('collapsed')
        }

        const media = []
        extras?.forEach(({ name, format_type, content }) => {
            if (['image', 'video'].includes(format_type)) {
                media.push({ path: content, name, format_type })
            }

            if (format_type === 'html') {
                resultBody.querySelector('.extraHTML').insertAdjacentHTML('beforeend', `<div>${content}</div>`)
            }
        })
        mediaViewer.setup(resultBody, media)

        // Add custom html from the pytest_html_results_table_html hook
        tableHtml?.forEach((item) => {
            resultBody.querySelector('td[class="extra"]').insertAdjacentHTML('beforeend', item)
        })

        return resultBody
    },
}

module.exports = {
    dom,
    htmlToElements,
    find,
    findAll,
}

},{"./mediaviewer.js":6}],3:[function(require,module,exports){
const { manager } = require('./datamanager.js')
const { doSort } = require('./sort.js')
const storageModule = require('./storage.js')

const getFilteredSubSet = (filter) =>
    manager.allData.tests.filter(({ result }) => filter.includes(result.toLowerCase()))

const doInitFilter = () => {
    const currentFilter = storageModule.getVisible()
    const filteredSubset = getFilteredSubSet(currentFilter)
    manager.setRender(filteredSubset)
}

const doFilter = (type, show) => {
    if (show) {
        storageModule.showCategory(type)
    } else {
        storageModule.hideCategory(type)
    }

    const currentFilter = storageModule.getVisible()
    const filteredSubset = getFilteredSubSet(currentFilter)
    manager.setRender(filteredSubset)

    const sortColumn = storageModule.getSort()
    doSort(sortColumn, true)
}

module.exports = {
    doFilter,
    doInitFilter,
}

},{"./datamanager.js":1,"./sort.js":7,"./storage.js":8}],4:[function(require,module,exports){
const { redraw, bindEvents, renderStatic } = require('./main.js')
const { doInitFilter } = require('./filter.js')
const { doInitSort } = require('./sort.js')
const { manager } = require('./datamanager.js')
const data = JSON.parse(document.getElementById('data-container').dataset.jsonblob)

function init() {
    manager.setManager(data)
    doInitFilter()
    doInitSort()
    renderStatic()
    redraw()
    bindEvents()
}

init()

},{"./datamanager.js":1,"./filter.js":3,"./main.js":5,"./sort.js":7}],5:[function(require,module,exports){
const { dom, find, findAll } = require('./dom.js')
const { manager } = require('./datamanager.js')
const { doSort } = require('./sort.js')
const { doFilter } = require('./filter.js')
const {
    getVisible,
    getCollapsedIds,
    setCollapsedIds,
    getSort,
    getSortDirection,
    possibleFilters,
} = require('./storage.js')

const removeChildren = (node) => {
    while (node.firstChild) {
        node.removeChild(node.firstChild)
    }
}

const renderStatic = () => {
    const renderEnvironmentTable = () => {
        const environment = manager.environment
        const rows = Object.keys(environment).map((key) => dom.getStaticRow(key, environment[key]))
        const table = document.getElementById('environment')
        removeChildren(table)
        rows.forEach((row) => table.appendChild(row))
    }
    renderEnvironmentTable()
}

const addItemToggleListener = (elem) => {
    elem.addEventListener('click', ({ target }) => {
        const id = target.parentElement.dataset.id
        manager.toggleCollapsedItem(id)

        const collapsedIds = getCollapsedIds()
        if (collapsedIds.includes(id)) {
            const updated = collapsedIds.filter((item) => item !== id)
            setCollapsedIds(updated)
        } else {
            collapsedIds.push(id)
            setCollapsedIds(collapsedIds)
        }
        redraw()
    })
}

const renderContent = (tests) => {
    const sortAttr = getSort(manager.initialSort)
    const sortAsc = JSON.parse(getSortDirection())
    const rows = tests.map(dom.getResultTBody)
    const table = document.getElementById('results-table')
    const tableHeader = document.getElementById('results-table-head')

    const newTable = document.createElement('table')
    newTable.id = 'results-table'

    // remove all sorting classes and set the relevant
    findAll('.sortable', tableHeader).forEach((elem) => elem.classList.remove('asc', 'desc'))
    tableHeader.querySelector(`.sortable[data-column-type="${sortAttr}"]`)?.classList.add(sortAsc ? 'desc' : 'asc')
    newTable.appendChild(tableHeader)

    if (!rows.length) {
        const emptyTable = document.getElementById('template_results-table__body--empty').content.cloneNode(true)
        newTable.appendChild(emptyTable)
    } else {
        rows.forEach((row) => {
            if (!!row) {
                findAll('.collapsible td:not(.col-links', row).forEach(addItemToggleListener)
                find('.logexpander', row).addEventListener('click',
                    (evt) => evt.target.parentNode.classList.toggle('expanded'),
                )
                newTable.appendChild(row)
            }
        })
    }

    table.replaceWith(newTable)
}

const renderDerived = () => {
    const currentFilter = getVisible()
    possibleFilters.forEach((result) => {
        const input = document.querySelector(`input[data-test-result="${result}"]`)
        input.checked = currentFilter.includes(result)
    })
}

const bindEvents = () => {
    const filterColumn = (evt) => {
        const { target: element } = evt
        const { testResult } = element.dataset

        doFilter(testResult, element.checked)
        const collapsedIds = getCollapsedIds()
        const updated = manager.renderData.tests.map((test) => {
            return {
                ...test,
                collapsed: collapsedIds.includes(test.id),
            }
        })
        manager.setRender(updated)
        redraw()
    }

    const header = document.getElementById('environment-header')
    header.addEventListener('click', () => {
        const table = document.getElementById('environment')
        table.classList.toggle('hidden')
        header.classList.toggle('collapsed')
    })

    findAll('input[name="filter_checkbox"]').forEach((elem) => {
        elem.addEventListener('click', filterColumn)
    })

    findAll('.sortable').forEach((elem) => {
        elem.addEventListener('click', (evt) => {
            const { target: element } = evt
            const { columnType } = element.dataset
            doSort(columnType)
            redraw()
        })
    })

    document.getElementById('show_all_details').addEventListener('click', () => {
        manager.allCollapsed = false
        setCollapsedIds([])
        redraw()
    })
    document.getElementById('hide_all_details').addEventListener('click', () => {
        manager.allCollapsed = true
        const allIds = manager.renderData.tests.map((test) => test.id)
        setCollapsedIds(allIds)
        redraw()
    })
}

const redraw = () => {
    const { testSubset } = manager

    renderContent(testSubset)
    renderDerived()
}

module.exports = {
    redraw,
    bindEvents,
    renderStatic,
}

},{"./datamanager.js":1,"./dom.js":2,"./filter.js":3,"./sort.js":7,"./storage.js":8}],6:[function(require,module,exports){
class MediaViewer {
    constructor(assets) {
        this.assets = assets
        this.index = 0
    }

    nextActive() {
        this.index = this.index === this.assets.length - 1 ? 0 : this.index + 1
        return [this.activeFile, this.index]
    }

    prevActive() {
        this.index = this.index === 0 ? this.assets.length - 1 : this.index -1
        return [this.activeFile, this.index]
    }

    get currentIndex() {
        return this.index
    }

    get activeFile() {
        return this.assets[this.index]
    }
}


const setup = (resultBody, assets) => {
    if (!assets.length) {
        resultBody.querySelector('.media').classList.add('hidden')
        return
    }

    const mediaViewer = new MediaViewer(assets)
    const container = resultBody.querySelector('.media-container')
    const leftArrow = resultBody.querySelector('.media-container__nav--left')
    const rightArrow = resultBody.querySelector('.media-container__nav--right')
    const mediaName = resultBody.querySelector('.media__name')
    const counter = resultBody.querySelector('.media__counter')
    const imageEl = resultBody.querySelector('img')
    const sourceEl = resultBody.querySelector('source')
    const videoEl = resultBody.querySelector('video')

    const setImg = (media, index) => {
        if (media?.format_type === 'image') {
            imageEl.src = media.path

            imageEl.classList.remove('hidden')
            videoEl.classList.add('hidden')
        } else if (media?.format_type === 'video') {
            sourceEl.src = media.path

            videoEl.classList.remove('hidden')
            imageEl.classList.add('hidden')
        }

        mediaName.innerText = media?.name
        counter.innerText = `${index + 1} / ${assets.length}`
    }
    setImg(mediaViewer.activeFile, mediaViewer.currentIndex)

    const moveLeft = () => {
        const [media, index] = mediaViewer.prevActive()
        setImg(media, index)
    }
    const doRight = () => {
        const [media, index] = mediaViewer.nextActive()
        setImg(media, index)
    }
    const openImg = () => {
        window.open(mediaViewer.activeFile.path, '_blank')
    }
    if (assets.length === 1) {
        container.classList.add('media-container--fullscreen')
    } else {
        leftArrow.addEventListener('click', moveLeft)
        rightArrow.addEventListener('click', doRight)
    }
    imageEl.addEventListener('click', openImg)
}

module.exports = {
    setup,
}

},{}],7:[function(require,module,exports){
const { manager } = require('./datamanager.js')
const storageModule = require('./storage.js')

const genericSort = (list, key, ascending, customOrder) => {
    let sorted
    if (customOrder) {
        sorted = list.sort((a, b) => {
            const aValue = a.result.toLowerCase()
            const bValue = b.result.toLowerCase()

            const aIndex = customOrder.findIndex((item) => item.toLowerCase() === aValue)
            const bIndex = customOrder.findIndex((item) => item.toLowerCase() === bValue)

            // Compare the indices to determine the sort order
            return aIndex - bIndex
        })
    } else {
        sorted = list.sort((a, b) => a[key] === b[key] ? 0 : a[key] > b[key] ? 1 : -1)
    }

    if (ascending) {
        sorted.reverse()
    }
    return sorted
}

const durationSort = (list, ascending) => {
    const parseDuration = (duration) => {
        if (duration.includes(':')) {
            // If it's in the format "HH:mm:ss"
            const [hours, minutes, seconds] = duration.split(':').map(Number)
            return (hours * 3600 + minutes * 60 + seconds) * 1000
        } else {
            // If it's in the format "nnn ms"
            return parseInt(duration)
        }
    }
    const sorted = list.sort((a, b) => parseDuration(a['duration']) - parseDuration(b['duration']))
    if (ascending) {
        sorted.reverse()
    }
    return sorted
}

const doInitSort = () => {
    const type = storageModule.getSort(manager.initialSort)
    const ascending = storageModule.getSortDirection()
    const list = manager.testSubset
    const initialOrder = ['Error', 'Failed', 'Rerun', 'XFailed', 'XPassed', 'Skipped', 'Passed']

    storageModule.setSort(type)
    storageModule.setSortDirection(ascending)

    if (type?.toLowerCase() === 'original') {
        manager.setRender(list)
    } else {
        let sortedList
        switch (type) {
        case 'duration':
            sortedList = durationSort(list, ascending)
            break
        case 'result':
            sortedList = genericSort(list, type, ascending, initialOrder)
            break
        default:
            sortedList = genericSort(list, type, ascending)
            break
        }
        manager.setRender(sortedList)
    }
}

const doSort = (type, skipDirection) => {
    const newSortType = storageModule.getSort(manager.initialSort) !== type
    const currentAsc = storageModule.getSortDirection()
    let ascending
    if (skipDirection) {
        ascending = currentAsc
    } else {
        ascending = newSortType ? false : !currentAsc
    }
    storageModule.setSort(type)
    storageModule.setSortDirection(ascending)

    const list = manager.testSubset
    const sortedList = type === 'duration' ? durationSort(list, ascending) : genericSort(list, type, ascending)
    manager.setRender(sortedList)
}

module.exports = {
    doInitSort,
    doSort,
}

},{"./datamanager.js":1,"./storage.js":8}],8:[function(require,module,exports){
const possibleFilters = [
    'passed',
    'skipped',
    'failed',
    'error',
    'xfailed',
    'xpassed',
    'rerun',
]

const getVisible = () => {
    const url = new URL(window.location.href)
    const settings = new URLSearchParams(url.search).get('visible')
    const lower = (item) => {
        const lowerItem = item.toLowerCase()
        if (possibleFilters.includes(lowerItem)) {
            return lowerItem
        }
        return null
    }
    return settings === null ?
        possibleFilters :
        [...new Set(settings?.split(',').map(lower).filter((item) => item))]
}

const hideCategory = (categoryToHide) => {
    const url = new URL(window.location.href)
    const visibleParams = new URLSearchParams(url.search).get('visible')
    const currentVisible = visibleParams ? visibleParams.split(',') : [...possibleFilters]
    const settings = [...new Set(currentVisible)].filter((f) => f !== categoryToHide).join(',')

    url.searchParams.set('visible', settings)
    window.history.pushState({}, null, unescape(url.href))
}

const showCategory = (categoryToShow) => {
    if (typeof window === 'undefined') {
        return
    }
    const url = new URL(window.location.href)
    const currentVisible = new URLSearchParams(url.search).get('visible')?.split(',').filter(Boolean) ||
        [...possibleFilters]
    const settings = [...new Set([categoryToShow, ...currentVisible])]
    const noFilter = possibleFilters.length === settings.length || !settings.length

    noFilter ? url.searchParams.delete('visible') : url.searchParams.set('visible', settings.join(','))
    window.history.pushState({}, null, unescape(url.href))
}

const getSort = (initialSort) => {
    const url = new URL(window.location.href)
    let sort = new URLSearchParams(url.search).get('sort')
    if (!sort) {
        sort = initialSort || 'result'
    }
    return sort
}

const setSort = (type) => {
    const url = new URL(window.location.href)
    url.searchParams.set('sort', type)
    window.history.pushState({}, null, unescape(url.href))
}

const getCollapsedCategory = (renderCollapsed) => {
    let categories
    if (typeof window !== 'undefined') {
        const url = new URL(window.location.href)
        const collapsedItems = new URLSearchParams(url.search).get('collapsed')
        switch (true) {
        case !renderCollapsed && collapsedItems === null:
            categories = ['passed']
            break
        case collapsedItems?.length === 0 || /^["']{2}$/.test(collapsedItems):
            categories = []
            break
        case /^all$/.test(collapsedItems) || collapsedItems === null && /^all$/.test(renderCollapsed):
            categories = [...possibleFilters]
            break
        default:
            categories = collapsedItems?.split(',').map((item) => item.toLowerCase()) || renderCollapsed
            break
        }
    } else {
        categories = []
    }
    return categories
}

const getSortDirection = () => JSON.parse(sessionStorage.getItem('sortAsc')) || false
const setSortDirection = (ascending) => sessionStorage.setItem('sortAsc', ascending)

const getCollapsedIds = () => JSON.parse(sessionStorage.getItem('collapsedIds')) || []
const setCollapsedIds = (list) => sessionStorage.setItem('collapsedIds', JSON.stringify(list))

module.exports = {
    getVisible,
    hideCategory,
    showCategory,
    getCollapsedIds,
    setCollapsedIds,
    getSort,
    setSort,
    getSortDirection,
    setSortDirection,
    getCollapsedCategory,
    possibleFilters,
}

},{}]},{},[4]);
    </script>
  </footer>
</html>